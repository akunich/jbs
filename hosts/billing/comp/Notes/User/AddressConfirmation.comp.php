<?php

#-------------------------------------------------------------------------------
/** @author Rootden, for lowhosting.ru */
/* * *************************************************************************** */
/* * *************************************************************************** */
Eval(COMP_INIT);
/* * *************************************************************************** */
/* * *************************************************************************** */
$Result = Array();
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
if(!CacheManager::isEnabled())
	return $Result;
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
$Config = Config();
#-------------------------------------------------------------------------------
$Settings = $Config['Interface']['User']['Notes']['MobileConfirmation'];
#-------------------------------------------------------------------------------
$__USER = $GLOBALS['__USER'];
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
if(Is_Numeric($__USER['Params']['NotificationMethods']['Mobile']['Address']) && $__USER['Params']['NotificationMethods']['Mobile']['Confirmed'] < 1 && $Settings['MobileConfirmRequire']){
	#-------------------------------------------------------------------------------
	$NoBody = new Tag('NOBODY');
	$NoBody->AddHTML(TemplateReplace('Notes.User.MobileConfirmation', Array('User' => $__USER)));
	$NoBody->AddChild(new Tag('STRONG', new Tag('A', Array('href' => "javascript:ShowWindow('/UserPersonalDataChange');"), '[Мои настройки]')));
	#-------------------------------------------------------------------------------
	$Result[] = $NoBody;
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
if(!$__USER['Params']['NotificationMethods']['Mobile']['Address'] && $Settings['MobileRequire']){
	#-------------------------------------------------------------------------------
	$NoBody = new Tag('NOBODY');
	$NoBody->AddHTML(TemplateReplace('Notes.User.MobileConfirmation.NoMobile', Array('User' => $__USER)));
	$NoBody->AddChild(new Tag('STRONG', new Tag('A', Array('href' => "javascript:ShowWindow('/UserPersonalDataChange');"), '[Мои настройки]')));
	#-------------------------------------------------------------------------------
	$Result[] = $NoBody;
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
return $Result;
#-------------------------------------------------------------------------------
?>
