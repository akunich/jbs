<?php

#-------------------------------------------------------------------------------
/** @author Alex keda, for www.host-food.ru */
/******************************************************************************/
/******************************************************************************/
$__args_list = Array('Code','Height','AddText','IsString');
/******************************************************************************/
Eval(COMP_INIT);
/******************************************************************************/
/******************************************************************************/
$Countries = Countries();
#-------------------------------------------------------------------------------
$Country = Array('name'=>'неизвестно','fullname'=>'неизвестно','english'=>'unknown','alpha2'=>'default','alpha3'=>'unknown','iso'=>0,'location'=>'unknown','location-precise'=>'unknown');
#-------------------------------------------------------------------------------
$Code = StrToLower($Code);
#-------------------------------------------------------------------------------
foreach($Countries as $iCountry){
	#-------------------------------------------------------------------------------
	if($iCountry['alpha2'] == $Code || $iCountry['alpha3'] == $Code){
		#-------------------------------------------------------------------------------
		$Country = $iCountry;
		#-------------------------------------------------------------------------------
		break;
		#-------------------------------------------------------------------------------
	}
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
$Text = SPrintF('%s, %s, %s, %s',$Country['iso'],StrToUpper($Country['alpha3']),($Country['fullname'])?$Country['fullname']:$Country['name'],$Country['location-precise']);
#-------------------------------------------------------------------------------
if($AddText)
	$Text = SPrintF('%s%s',HtmlSpecialChars(SPrintF('%s<BR />',$Text)),$AddText);
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
if($IsString){
	#-------------------------------------------------------------------------------
	$Image = SPrintF('<IMG %s src="SRC:{Images/Icons/Countries/%s.png}" onmouseover="PromptShow(event,\'%s\',this);"/>',(($Height)?SPrintF('height="%u"',$Height):''),$Country['alpha2'],$Text);
	#-------------------------------------------------------------------------------
}else{
	#-------------------------------------------------------------------------------
	$Image = new Tag('IMG',Array('onmouseover'=>SPrintF("PromptShow(event,'%s',this);",$Text),'src'=>SPrintF('SRC:{Images/Icons/Countries/%s.png}',$Country['alpha2'])));
	#-------------------------------------------------------------------------------
	if($Height)
		$Image->AddAttribs(Array('height'=>$Height));
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
return $Image;
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------

?>
