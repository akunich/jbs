<?php

#-------------------------------------------------------------------------------
/** @author Alex Keda, for www.host-food.ru */
/******************************************************************************/
/******************************************************************************/
Eval(COMP_INIT);
/******************************************************************************/
/******************************************************************************/
$Args = Args();
#-------------------------------------------------------------------------------
$ServiceID = (integer) @$Args['ServiceID'];
#-------------------------------------------------------------------------------
if(Is_Error(System_Load('modules/Authorisation.mod')))
  return ERROR | @Trigger_Error(500);
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
$Result = Array();
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
if($ServiceID == 10000){ # hosting
	#-------------------------------------------------------------------------------
	$Schemes = DB_Select('HostingSchemesOwners',Array('ID','Name','PackageID'),Array('SortOn'=>'SortID'));
	#-------------------------------------------------------------------------------
	switch(ValueOf($Schemes)){
	case 'error':
		return ERROR | @Trigger_Error(500);
	case 'exception':
		return new gException('NO_RESULT','Пользователи не найдены');
	case 'array':
		foreach($Schemes as $Scheme)
			$Result[UniqID('ID')] = Array('Value'=>$Scheme['ID'],'Label'=>SPrintF('%s (%s)',$Scheme['Name'],$Scheme['PackageID']));
		break;
	default:
		return ERROR | @Trigger_Error(101);
	}
}

#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
return Array('Options'=>$Result,'Status'=>'Ok');

?>
