<?php

#-------------------------------------------------------------------------------
/** @author Великодный В.В. (Joonte Ltd.) */
/******************************************************************************/
/******************************************************************************/
$__args_list = Array('Css');
/******************************************************************************/
Eval(COMP_INIT);
/******************************************************************************/
/******************************************************************************/
$List = Array();
#-------------------------------------------------------------------------------
$Loaded = &Link_Get('Css','array');
#-------------------------------------------------------------------------------
foreach($Css as $Path){
  #-----------------------------------------------------------------------------
  $Path = SPrintF('Css/%s.css',$Path);
  #-----------------------------------------------------------------------------
  $CacheID = $Path;
  #-------------------------------------------------------------------------------
  if(In_Array($CacheID,$Loaded))
    continue;
  #-----------------------------------------------------------------------------
  $HostsIDs = Styles_HostsIDs($Path);
  if(Is_Error($HostsIDs))
    return ERROR | @Trigger_Error(500);
  #-----------------------------------------------------------------------------
  foreach(Array_Reverse($HostsIDs) as $HostID){
    #---------------------------------------------------------------------------
    $Link = new Tag(
      'LINK',
      Array(
        //'href' => SPrintF('%s://%s/styles/%s/%s',(@$_SERVER['SERVER_PORT'] != 80?'https':'http'),@$_SERVER['HTTP_HOST'],$HostID,$Path),
	'href' => SPrintF('/styles/%s/%s',$HostID,$Path),
        'rel'  => 'stylesheet',
        'type' => 'text/css'
      )
    );
    #---------------------------------------------------------------------------
    $List[] = $Link;
  }
  #-----------------------------------------------------------------------------
  $Loaded[] = $CacheID;
}
#-------------------------------------------------------------------------------
return $List;
#-------------------------------------------------------------------------------

?>
