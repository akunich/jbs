<?php

#-------------------------------------------------------------------------------
/** @author Великодный В.В. (Joonte Ltd.) */
/******************************************************************************/
/******************************************************************************/
$__args_list = Array('Name','Info','FilesMax');
/******************************************************************************/
Eval(COMP_INIT);
/******************************************************************************/
/******************************************************************************/
$Config = Config();
#-------------------------------------------------------------------------------
$Settings = $Config['Other']['Upload'];
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
if(!Comp_IsLoaded('Upload')){
	#-------------------------------------------------------------------------------
	$Links = &Links();
	#-------------------------------------------------------------------------------
	$DOM = &$Links['DOM'];
	#-------------------------------------------------------------------------------
	$Script = new Tag('SCRIPT',Array('type'=>'text/javascript','src'=>'SRC:{Js/Upload.js}'));
	#-------------------------------------------------------------------------------
	$DOM->AddChild('Head',$Script);
	#-------------------------------------------------------------------------------
	$Comp = Comp_Load('Css',Array('Upload'));
	if(Is_Error($Comp))
		return ERROR | @Trigger_Error(500);
	#-------------------------------------------------------------------------------
	foreach($Comp as $Css)
		$DOM->AddChild('Head',$Css);
	#-------------------------------------------------------------------------------
	$DOM->AddHTML('Floating',TemplateReplace('Upload.DIV'));
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
$Table = new Tag('TABLE',Array('width'=>'200','cellspacing'=>0));
#-------------------------------------------------------------------------------
$Table->AddHTML(TemplateReplace('Upload.Button',Array('Name'=>$Name,'Info'=>($Info?$Info:'-'),'FilesMax'=>($FilesMax?$FilesMax:1),'MaxFileSize'=>$Settings['MaxFileSize'])));
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
return $Table;
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------

?>
