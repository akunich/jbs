<?php
#-------------------------------------------------------------------------------
/** @author Бреславский А.В. (Joonte Ltd.) */
#-------------------------------------------------------------------------------
$Args = &Args();
#-------------------------------------------------------------------------------
if(Count($Args) > 0){
  #-----------------------------------------------------------------------------
  Debug('[Request module]: [замена параметров]');
  #-----------------------------------------------------------------------------
  foreach(Array_Keys($Args) as $ArgID){
    #---------------------------------------------------------------------------
    $Arg = &$Args[$ArgID];
    #---------------------------------------------------------------------------
    if(Is_Array($Arg))
      continue;
    #---------------------------------------------------------------------------
    $Arg = Trim($Arg);
    #---------------------------------------------------------------------------
    if(Preg_Match('/^\[([0-9]{4})\/([0-9]{2})\/([0-9]{2})\]$/',$Arg,$Matches)){
      #-------------------------------------------------------------------------
      Array_Shift($Matches);
      #-------------------------------------------------------------------------
      $Arg = MkTime(0,0,0,Next($Matches),Next($Matches),Reset($Matches));
    }else{
      #-------------------------------------------------------------------------
      # Замена символов
      $Arg = Str_Replace(Array('»','«'),Array('"','"'),$Arg);
      #-------------------------------------------------------------------------
      # Удаление лишних символов
      $Arg = AddcSlashes($Arg,"\1");
      #-------------------------------------------------------------------------
      # Удаление двойных пробелов
      # $Arg = Preg_Replace('/\ {2,}/',' ',$Arg);
    }
  }
}
#-------------------------------------------------------------------------------
?>